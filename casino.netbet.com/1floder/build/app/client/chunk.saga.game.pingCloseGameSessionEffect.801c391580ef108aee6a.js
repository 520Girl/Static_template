/*! chunkhash:801c391580ef108aee6a, name:saga.game.pingCloseGameSessionEffect, filebase:chunk.saga.game.pingCloseGameSessionEffect.801c391580ef108aee6a.js, query:, file:chunk.saga.game.pingCloseGameSessionEffect.801c391580ef108aee6a.js */"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[78804],{2923:(e,_,n)=>{n.d(_,{l:()=>t});let t=function(e){return e[e.POPUP_REALITY_CHECK_SHOW=1]="POPUP_REALITY_CHECK_SHOW",e[e.CONTINUE_PLAY=2]="CONTINUE_PLAY",e[e.EXIT_GAME=3]="EXIT_GAME",e[e.CHECK_GAME_STATISTICS=4]="CHECK_GAME_STATISTICS",e[e.CLOSE_BROWSER=5]="CLOSE_BROWSER",e}({})},50462:(e,_,n)=>{n.r(_),n.d(_,{default:()=>c,pingCloseGameSessionEffect:()=>T});var t=n(24970),E=n(34078),s=n.n(E),a=n(10354),l=n(8338),o=n(44431),S=n(10976),i=n(50300),C=n(48274),O=n(2923),A=n(24602),r=n(69272),L=n(66946);let T=(0,a.R)(l.r.PING_CLOSE_GAME_SESSION,function*(){let e=yield(0,t.Ys)(),_=(0,o.iy)(e),n=s()(_,"/games/closeGameSession"),E=(0,i.mO)(e),a=(0,S.ZP)(e),l=(0,S.ZA)(e),T=(0,S.zY)(e),c=(0,C.G4)(e),I=(0,A.Mj)(e,{flag:r.W.REALITY_CHECK_AUDIT}),f=(0,A.Mj)(e,{flag:r.W.NCCAS_12064}),d={...E,launch_session:a,launch_token:l,login_token:c,wallet:T};f&&(d.reason=L.n.CLOSE_BROWSER_TAB),delete d.app_version,delete d.is_global_project;let g=new FormData;for(let[e,_]of Object.entries(d))g.append(e,String(_));if(navigator.sendBeacon(n,g),I){let n=s()(_,"/log/addRealityCheckHistory"),t=(0,C.c7)(e),a={...E,user_id:t,status:O.l.EXIT_GAME},l=a.status=O.l.CLOSE_BROWSER,o={type:"application/json"},S=new Blob([JSON.stringify(a)],o),i=new Blob([JSON.stringify(l)],o);navigator.sendBeacon(n,S),navigator.sendBeacon(n,i)}}),c=T}}]);